<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>ShipSafe AI</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-zinc-50 text-zinc-900">
  <div class="max-w-5xl mx-auto p-6">
    <h1 class="text-3xl font-bold">ShipSafe AI</h1>
    <p class="text-zinc-600 mt-2">
      Two demos in one: (1) Digit Classifier (PyTorch) and (2) Docs Q&A (RAG).
    </p>

    <div class="grid md:grid-cols-2 gap-6 mt-6">

      <div class="bg-white rounded-2xl border p-5 shadow-sm">
        <h2 class="text-xl font-semibold">1) Digit Classifier</h2>
        <p class="text-sm text-zinc-600 mt-1">Upload an image (handwritten digit like MNIST).</p>

        <input id="img" type="file" accept="image/*" class="mt-3"/>
        <button id="predictBtn" class="mt-3 px-4 py-2 rounded-xl bg-indigo-600 text-white font-semibold">
          Predict
        </button>

        <div id="predOut" class="mt-4 text-sm"></div>
        <p class="mt-2 text-xs text-zinc-500">API: POST /predict</p>
      </div>

      <div class="bg-white rounded-2xl border p-5 shadow-sm">
        <h2 class="text-xl font-semibold">2) Ask my Docs (RAG)</h2>
        <p class="text-sm text-zinc-600 mt-1">Ask a question about the repo docs folder.</p>

        <textarea id="q" class="mt-3 w-full border rounded-xl p-3" rows="4"
          placeholder="What does this project do?"></textarea>

        <div class="flex items-center gap-3 mt-3">
          <button id="qaBtn" class="px-4 py-2 rounded-xl bg-zinc-900 text-white font-semibold">
            Ask
          </button>
          <label class="text-sm">
            <input id="useLLM" type="checkbox"/>
            Use LLM (needs OPENAI_API_KEY)
          </label>
        </div>

        <div id="qaOut" class="mt-4 text-sm"></div>
        <p class="mt-2 text-xs text-zinc-500">API: POST /qa</p>
      </div>

    </div>

    <div class="mt-6 text-sm">
      <a class="text-indigo-700 underline" href="/docs">Open Swagger Docs</a>
      <span class="text-zinc-400"> | </span>
      <a class="text-indigo-700 underline" href="/redoc">Open ReDoc</a>
    </div>
  </div>

  <script src="/static/app.js"></script>
</body>
</html>
